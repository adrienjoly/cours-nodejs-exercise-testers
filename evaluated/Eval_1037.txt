
Stop and remove previous Docker containers...

ğŸ³ Generate and run Dockerfile from ./student-code/...

ğŸ‘¾ Run test suite against container...

    Lecture du code source fourni
    â„¹ let http = require('http')

      http.createServer(

      server.on('request', (request, response) => {
   

          response.end('nom')
      }))

      server.listen(80)
  âœ– server.js utilise seulement await pour rÃ©cupÃ©rer les valeurs promises 
  âœ” server.js contient l'inteÌgraliteÌ du code source de votre programme (266ms)
  âœ– package.json permet d'installer les deÌpendances neÌcessaires aÌ€ l'aide de npm install Rejected promise returned by test
  âœ– package.json permet de deÌmarrer le serveur aÌ€ l'aide de npm start Rejected promise returned by test
  âœ– README.md inclue les instructions aÌ€ suivre pour installer, exeÌcuter et tester le serveur Rejected promise returned by test
  âœ– le serveur rÃ©pond sur le port 3000 Rejected promise returned by test
  âœ– (1) GET / {} -> /Je n'ai rencontreÌ personne pour l'instant/ Rejected promise returned by test
  âœ– (2) POST / {} -> /Il manque votre nom/ Rejected promise returned by test
  âœ– (3) GET / {} -> /Je n'ai rencontreÌ personne pour l'instant/ Rejected promise returned by test
  âœ– (4) POST / "nom=adrien" -> /Bienvenue, adrien/ Rejected promise returned by test
  âœ– (5) GET / {} -> /La dernieÌ€re personne que j'ai rencontreÌe est: adrien/ Rejected promise returned by test
  âœ– (6) POST / "nom=michelle" -> /Bienvenue, michelle/ Rejected promise returned by test
  âœ– (7) GET / {} -> /La dernieÌ€re personne que j'ai rencontreÌe est: michelle/ Rejected promise returned by test
  âœ– MONGODB_COLLECTION ne doit contenir qu'un document avec le nom du dernier visiteur Rejected promise returned by test
  âœ– (8) GET / -> "J'ai perdu la meÌmoire...", si la db ne fonctionne plus Rejected promise returned by test

  14 tests failed

  server.js utilise seulement await pour rÃ©cupÃ©rer les valeurs promises

  /Users/adrienjoly/dev/adrienjoly/cours-nodejs-exercise-testers/test-partiel.js:64

   63:     const { serverSource } = t.context;  
   64:     t.regex(serverSource, /await/);      
   65:     t.notRegex(serverSource, /\.then\(/);

  Value must match expression:

  `let http = require('http')âŠ
  âŠ
  http.createServer(âŠ
  âŠ
  server.on('request', (request, response) => {âŠ
     âŠ
  âŠ
      response.end('nom')âŠ
  }))âŠ
  âŠ
  server.listen(80)`

  Regular expression:

  /await/



  package.json permet d'installer les deÌpendances neÌcessaires aÌ€ l'aide de npm install

  /Users/adrienjoly/dev/adrienjoly/cours-nodejs-exercise-testers/test-partiel.js:81

   80:   async t => {                                                           
   81:     const { dependencies } = JSON.parse(await runInDocker('cat package.jâ€¦
   82:     const deps = Object.keys(dependencies);                              

  Rejected promise returned by test. Reason:

  SyntaxError {
    message: 'Unexpected end of JSON input',
  }



  package.json permet de deÌmarrer le serveur aÌ€ l'aide de npm start

  /Users/adrienjoly/dev/adrienjoly/cours-nodejs-exercise-testers/test-partiel.js:91

   90:   async t => {                                                           
   91:     const { scripts } = JSON.parse(await runInDocker('cat package.json')â€¦
   92:     t.regex(scripts.start, /node server.js/);                            

  Rejected promise returned by test. Reason:

  SyntaxError {
    message: 'Unexpected end of JSON input',
  }



  README.md inclue les instructions aÌ€ suivre pour installer, exeÌcuter et tester le serveur


  Rejected promise returned by test. Reason:

  Error {
    cmd: 'docker exec my-running-app sh -c "cat README.md"',
    code: 1,
    killed: false,
    signal: null,
    stderr: `cat: README.md: No such file or directoryâŠ
    `,
    stdout: '',
    message: `Command failed: docker exec my-running-app sh -c "cat README.md"âŠ
    cat: README.md: No such file or directoryâŠ
    `,
  }



  le serveur rÃ©pond sur le port 3000


  Rejected promise returned by test. Reason:

  Error {
    cmd: 'docker exec my-running-app sh -c "npm install --no-audit https://github.com/vladlosev/mongodb-fs"',
    code: 1,
    killed: false,
    signal: null,
    stderr: `npm ERR! code EJSONPARSEâŠ
    npm ERR! file /usr/src/app/package.jsonâŠ
    npm ERR! JSON.parse Failed to parse jsonâŠ
    npm ERR! JSON.parse Unexpected end of JSON input while parsing near ''âŠ
    npm ERR! JSON.parse Failed to parse package.json data.âŠ
    npm ERR! JSON.parse package.json must be actual JSON, not just JavaScript.âŠ
    âŠ
    npm ERR! A complete log of this run can be found in:âŠ
    npm ERR!     /root/.npm/_logs/2020-07-17T15_36_50_369Z-debug.logâŠ
    `,
    stdout: '',
    message: `Command failed: docker exec my-running-app sh -c "npm install --no-audit https://github.com/vladlosev/mongodb-fs"âŠ
    npm ERR! code EJSONPARSEâŠ
    npm ERR! file /usr/src/app/package.jsonâŠ
    npm ERR! JSON.parse Failed to parse jsonâŠ
    npm ERR! JSON.parse Unexpected end of JSON input while parsing near ''âŠ
    npm ERR! JSON.parse Failed to parse package.json data.âŠ
    npm ERR! JSON.parse package.json must be actual JSON, not just JavaScript.âŠ
    âŠ
    npm ERR! A complete log of this run can be found in:âŠ
    npm ERR!     /root/.npm/_logs/2020-07-17T15_36_50_369Z-debug.logâŠ
    `,
  }



  (1) GET / {} -> /Je n'ai rencontreÌ personne pour l'instant/


  Rejected promise returned by test. Reason:

  Error {
    code: 'ECONNRESET',
    config: {
      adapter: Function httpAdapter {},
      data: undefined,
      headers: {
        Accept: 'application/json, text/plain, */*',
        'User-Agent': 'axios/0.19.0',
      },
      maxContentLength: -1,
      method: 'get',
      timeout: 1500,
      transformRequest: [
        Function transformRequest {},
      ],
      transformResponse: [
        Function transformResponse {},
      ],
      url: 'http://localhost:3000/',
      validateStatus: Function validateStatus {},
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
    },
    isAxiosError: true,
    request: Writable {
      _currentRequest: ClientRequest {
        _contentLength: 0,
        _ended: false,
        _events: Object { â€¦ },
        _eventsCount: 6,
        _hasBody: true,
        _header: `GET / HTTP/1.1ââŠ
        Accept: application/json, text/plain, */*ââŠ
        User-Agent: axios/0.19.0ââŠ
        Host: localhost:3000ââŠ
        Connection: closeââŠ
        ââŠ
        `,
        _headerSent: true,
        _last: true,
        _maxListeners: undefined,
        _onPendingData: Function noopPendingOutput {},
        _redirectable: [Circular],
        _removedConnection: false,
        _removedContLen: false,
        _removedTE: false,
        _trailer: '',
        aborted: undefined,
        agent: Agent { â€¦ },
        chunkedEncoding: false,
        connection: Socket { â€¦ },
        finished: true,
        maxHeadersCount: null,
        method: 'GET',
        output: [],
        outputCallbacks: [],
        outputEncodings: [],
        outputSize: 0,
        parser: null,
        path: '/',
        res: null,
        sendDate: false,
        shouldKeepAlive: false,
        socket: Socket { â€¦ },
        socketPath: undefined,
        timeout: undefined,
        timeoutCb: null,
        upgradeOrConnect: false,
        useChunkedEncodingByDefault: false,
        writable: true,
        [Symbol(isCorked)]: false,
        [Symbol(outHeadersKey)]: Object { â€¦ },
      },
      _currentUrl: 'http://localhost:3000/',
      _events: {
        error: Function handleRequestError {},
        response: Function handleResponse {},
      },
      _eventsCount: 2,
      _maxListeners: undefined,
      _onNativeResponse: Function {},
      _options: {
        agent: undefined,
        auth: undefined,
        headers: Object { â€¦ },
        hostname: 'localhost',
        maxBodyLength: 10485760,
        maxRedirects: 21,
        method: 'GET',
        nativeProtocols: Object { â€¦ },
        path: '/',
        pathname: '/',
        port: '3000',
        protocol: 'http:',
      },
      _redirectCount: 0,
      _redirects: [],
      _requestBodyBuffers: [],
      _requestBodyLength: 0,
      _writableState: WritableState [
        autoDestroy: false,
        bufferProcessing: false,
        bufferedRequest: null,
        bufferedRequestCount: 0,
        corked: 0,
        corkedRequestsFree: Object { â€¦ },
        decodeStrings: true,
        defaultEncoding: 'utf8',
        destroyed: false,
        emitClose: true,
        ended: false,
        ending: false,
        errorEmitted: false,
        finalCalled: false,
        finished: false,
        highWaterMark: 16384,
        lastBufferedRequest: null,
        length: 0,
        needDrain: false,
        objectMode: false,
        onwrite: Function bound onwrite {},
        pendingcb: 0,
        prefinished: false,
        sync: true,
        writecb: null,
        writelen: 0,
        writing: false,
      ],
      writable: true,
    },
    response: undefined,
    toJSON: Function {},
    message: 'socket hang up',
  }



  (2) POST / {} -> /Il manque votre nom/


  Rejected promise returned by test. Reason:

  Error {
    code: 'ECONNRESET',
    config: {
      adapter: Function httpAdapter {},
      data: undefined,
      headers: {
        Accept: 'application/json, text/plain, */*',
        'Content-Type': 'application/x-www-form-urlencoded',
        'User-Agent': 'axios/0.19.0',
      },
      maxContentLength: -1,
      method: 'post',
      timeout: 1500,
      transformRequest: [
        Function transformRequest {},
      ],
      transformResponse: [
        Function transformResponse {},
      ],
      url: 'http://localhost:3000/',
      validateStatus: Function validateStatus {},
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
    },
    isAxiosError: true,
    request: Writable {
      _currentRequest: ClientRequest {
        _contentLength: 0,
        _ended: false,
        _events: Object { â€¦ },
        _eventsCount: 6,
        _hasBody: true,
        _header: `POST / HTTP/1.1ââŠ
        Accept: application/json, text/plain, */*ââŠ
        Content-Type: application/x-www-form-urlencodedââŠ
        User-Agent: axios/0.19.0ââŠ
        Host: localhost:3000ââŠ
        Connection: closeââŠ
        Content-Length: 0ââŠ
        ââŠ
        `,
        _headerSent: true,
        _last: true,
        _maxListeners: undefined,
        _onPendingData: Function noopPendingOutput {},
        _redirectable: [Circular],
        _removedConnection: false,
        _removedContLen: false,
        _removedTE: false,
        _trailer: '',
        aborted: undefined,
        agent: Agent { â€¦ },
        chunkedEncoding: false,
        connection: Socket { â€¦ },
        finished: true,
        maxHeadersCount: null,
        method: 'POST',
        output: [],
        outputCallbacks: [],
        outputEncodings: [],
        outputSize: 0,
        parser: null,
        path: '/',
        res: null,
        sendDate: false,
        shouldKeepAlive: false,
        socket: Socket { â€¦ },
        socketPath: undefined,
        timeout: undefined,
        timeoutCb: null,
        upgradeOrConnect: false,
        useChunkedEncodingByDefault: true,
        writable: true,
        [Symbol(isCorked)]: false,
        [Symbol(outHeadersKey)]: Object { â€¦ },
      },
      _currentUrl: 'http://localhost:3000/',
      _events: {
        error: Function handleRequestError {},
        response: Function handleResponse {},
      },
      _eventsCount: 2,
      _maxListeners: undefined,
      _onNativeResponse: Function {},
      _options: {
        agent: undefined,
        auth: undefined,
        headers: Object { â€¦ },
        hostname: 'localhost',
        maxBodyLength: 10485760,
        maxRedirects: 21,
        method: 'POST',
        nativeProtocols: Object { â€¦ },
        path: '/',
        pathname: '/',
        port: '3000',
        protocol: 'http:',
      },
      _redirectCount: 0,
      _redirects: [],
      _requestBodyBuffers: [],
      _requestBodyLength: 0,
      _writableState: WritableState [
        autoDestroy: false,
        bufferProcessing: false,
        bufferedRequest: null,
        bufferedRequestCount: 0,
        corked: 0,
        corkedRequestsFree: Object { â€¦ },
        decodeStrings: true,
        defaultEncoding: 'utf8',
        destroyed: false,
        emitClose: true,
        ended: false,
        ending: false,
        errorEmitted: false,
        finalCalled: false,
        finished: false,
        highWaterMark: 16384,
        lastBufferedRequest: null,
        length: 0,
        needDrain: false,
        objectMode: false,
        onwrite: Function bound onwrite {},
        pendingcb: 0,
        prefinished: false,
        sync: true,
        writecb: null,
        writelen: 0,
        writing: false,
      ],
      writable: true,
    },
    response: undefined,
    toJSON: Function {},
    message: 'socket hang up',
  }



  (3) GET / {} -> /Je n'ai rencontreÌ personne pour l'instant/


  Rejected promise returned by test. Reason:

  Error {
    code: 'ECONNRESET',
    config: {
      adapter: Function httpAdapter {},
      data: undefined,
      headers: {
        Accept: 'application/json, text/plain, */*',
        'User-Agent': 'axios/0.19.0',
      },
      maxContentLength: -1,
      method: 'get',
      timeout: 1500,
      transformRequest: [
        Function transformRequest {},
      ],
      transformResponse: [
        Function transformResponse {},
      ],
      url: 'http://localhost:3000/',
      validateStatus: Function validateStatus {},
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
    },
    isAxiosError: true,
    request: Writable {
      _currentRequest: ClientRequest {
        _contentLength: 0,
        _ended: false,
        _events: Object { â€¦ },
        _eventsCount: 6,
        _hasBody: true,
        _header: `GET / HTTP/1.1ââŠ
        Accept: application/json, text/plain, */*ââŠ
        User-Agent: axios/0.19.0ââŠ
        Host: localhost:3000ââŠ
        Connection: closeââŠ
        ââŠ
        `,
        _headerSent: true,
        _last: true,
        _maxListeners: undefined,
        _onPendingData: Function noopPendingOutput {},
        _redirectable: [Circular],
        _removedConnection: false,
        _removedContLen: false,
        _removedTE: false,
        _trailer: '',
        aborted: undefined,
        agent: Agent { â€¦ },
        chunkedEncoding: false,
        connection: Socket { â€¦ },
        finished: true,
        maxHeadersCount: null,
        method: 'GET',
        output: [],
        outputCallbacks: [],
        outputEncodings: [],
        outputSize: 0,
        parser: null,
        path: '/',
        res: null,
        sendDate: false,
        shouldKeepAlive: false,
        socket: Socket { â€¦ },
        socketPath: undefined,
        timeout: undefined,
        timeoutCb: null,
        upgradeOrConnect: false,
        useChunkedEncodingByDefault: false,
        writable: true,
        [Symbol(isCorked)]: false,
        [Symbol(outHeadersKey)]: Object { â€¦ },
      },
      _currentUrl: 'http://localhost:3000/',
      _events: {
        error: Function handleRequestError {},
        response: Function handleResponse {},
      },
      _eventsCount: 2,
      _maxListeners: undefined,
      _onNativeResponse: Function {},
      _options: {
        agent: undefined,
        auth: undefined,
        headers: Object { â€¦ },
        hostname: 'localhost',
        maxBodyLength: 10485760,
        maxRedirects: 21,
        method: 'GET',
        nativeProtocols: Object { â€¦ },
        path: '/',
        pathname: '/',
        port: '3000',
        protocol: 'http:',
      },
      _redirectCount: 0,
      _redirects: [],
      _requestBodyBuffers: [],
      _requestBodyLength: 0,
      _writableState: WritableState [
        autoDestroy: false,
        bufferProcessing: false,
        bufferedRequest: null,
        bufferedRequestCount: 0,
        corked: 0,
        corkedRequestsFree: Object { â€¦ },
        decodeStrings: true,
        defaultEncoding: 'utf8',
        destroyed: false,
        emitClose: true,
        ended: false,
        ending: false,
        errorEmitted: false,
        finalCalled: false,
        finished: false,
        highWaterMark: 16384,
        lastBufferedRequest: null,
        length: 0,
        needDrain: false,
        objectMode: false,
        onwrite: Function bound onwrite {},
        pendingcb: 0,
        prefinished: false,
        sync: true,
        writecb: null,
        writelen: 0,
        writing: false,
      ],
      writable: true,
    },
    response: undefined,
    toJSON: Function {},
    message: 'socket hang up',
  }



  (4) POST / "nom=adrien" -> /Bienvenue, adrien/


  Rejected promise returned by test. Reason:

  Error {
    code: 'ECONNRESET',
    config: {
      adapter: Function httpAdapter {},
      data: 'nom=adrien',
      headers: {
        Accept: 'application/json, text/plain, */*',
        'Content-Length': 10,
        'Content-Type': 'application/x-www-form-urlencoded',
        'User-Agent': 'axios/0.19.0',
      },
      maxContentLength: -1,
      method: 'post',
      timeout: 1500,
      transformRequest: [
        Function transformRequest {},
      ],
      transformResponse: [
        Function transformResponse {},
      ],
      url: 'http://localhost:3000/',
      validateStatus: Function validateStatus {},
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
    },
    isAxiosError: true,
    request: Writable {
      _currentRequest: ClientRequest {
        _contentLength: null,
        _ended: false,
        _events: Object { â€¦ },
        _eventsCount: 6,
        _hasBody: true,
        _header: `POST / HTTP/1.1ââŠ
        Accept: application/json, text/plain, */*ââŠ
        Content-Type: application/x-www-form-urlencodedââŠ
        User-Agent: axios/0.19.0ââŠ
        Content-Length: 10ââŠ
        Host: localhost:3000ââŠ
        Connection: closeââŠ
        ââŠ
        `,
        _headerSent: true,
        _last: true,
        _maxListeners: undefined,
        _onPendingData: Function noopPendingOutput {},
        _redirectable: [Circular],
        _removedConnection: false,
        _removedContLen: false,
        _removedTE: false,
        _trailer: '',
        aborted: undefined,
        agent: Agent { â€¦ },
        chunkedEncoding: false,
        connection: Socket { â€¦ },
        finished: true,
        maxHeadersCount: null,
        method: 'POST',
        output: [],
        outputCallbacks: [],
        outputEncodings: [],
        outputSize: 0,
        parser: null,
        path: '/',
        res: null,
        sendDate: false,
        shouldKeepAlive: false,
        socket: Socket { â€¦ },
        socketPath: undefined,
        timeout: undefined,
        timeoutCb: null,
        upgradeOrConnect: false,
        useChunkedEncodingByDefault: true,
        writable: true,
        [Symbol(isCorked)]: false,
        [Symbol(outHeadersKey)]: Object { â€¦ },
      },
      _currentUrl: 'http://localhost:3000/',
      _events: {
        error: Function handleRequestError {},
        response: Function handleResponse {},
      },
      _eventsCount: 2,
      _maxListeners: undefined,
      _onNativeResponse: Function {},
      _options: {
        agent: undefined,
        auth: undefined,
        headers: Object { â€¦ },
        hostname: 'localhost',
        maxBodyLength: 10485760,
        maxRedirects: 21,
        method: 'POST',
        nativeProtocols: Object { â€¦ },
        path: '/',
        pathname: '/',
        port: '3000',
        protocol: 'http:',
      },
      _redirectCount: 0,
      _redirects: [],
      _requestBodyBuffers: [
        Object { â€¦ },
      ],
      _requestBodyLength: 10,
      _writableState: WritableState [
        autoDestroy: false,
        bufferProcessing: false,
        bufferedRequest: null,
        bufferedRequestCount: 0,
        corked: 0,
        corkedRequestsFree: Object { â€¦ },
        decodeStrings: true,
        defaultEncoding: 'utf8',
        destroyed: false,
        emitClose: true,
        ended: false,
        ending: false,
        errorEmitted: false,
        finalCalled: false,
        finished: false,
        highWaterMark: 16384,
        lastBufferedRequest: null,
        length: 0,
        needDrain: false,
        objectMode: false,
        onwrite: Function bound onwrite {},
        pendingcb: 0,
        prefinished: false,
        sync: true,
        writecb: null,
        writelen: 0,
        writing: false,
      ],
      writable: true,
    },
    response: undefined,
    toJSON: Function {},
    message: 'socket hang up',
  }



  (5) GET / {} -> /La dernieÌ€re personne que j'ai rencontreÌe est: adrien/


  Rejected promise returned by test. Reason:

  Error {
    code: 'ECONNRESET',
    config: {
      adapter: Function httpAdapter {},
      data: undefined,
      headers: {
        Accept: 'application/json, text/plain, */*',
        'User-Agent': 'axios/0.19.0',
      },
      maxContentLength: -1,
      method: 'get',
      timeout: 1500,
      transformRequest: [
        Function transformRequest {},
      ],
      transformResponse: [
        Function transformResponse {},
      ],
      url: 'http://localhost:3000/',
      validateStatus: Function validateStatus {},
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
    },
    isAxiosError: true,
    request: Writable {
      _currentRequest: ClientRequest {
        _contentLength: 0,
        _ended: false,
        _events: Object { â€¦ },
        _eventsCount: 6,
        _hasBody: true,
        _header: `GET / HTTP/1.1ââŠ
        Accept: application/json, text/plain, */*ââŠ
        User-Agent: axios/0.19.0ââŠ
        Host: localhost:3000ââŠ
        Connection: closeââŠ
        ââŠ
        `,
        _headerSent: true,
        _last: true,
        _maxListeners: undefined,
        _onPendingData: Function noopPendingOutput {},
        _redirectable: [Circular],
        _removedConnection: false,
        _removedContLen: false,
        _removedTE: false,
        _trailer: '',
        aborted: undefined,
        agent: Agent { â€¦ },
        chunkedEncoding: false,
        connection: Socket { â€¦ },
        finished: true,
        maxHeadersCount: null,
        method: 'GET',
        output: [],
        outputCallbacks: [],
        outputEncodings: [],
        outputSize: 0,
        parser: null,
        path: '/',
        res: null,
        sendDate: false,
        shouldKeepAlive: false,
        socket: Socket { â€¦ },
        socketPath: undefined,
        timeout: undefined,
        timeoutCb: null,
        upgradeOrConnect: false,
        useChunkedEncodingByDefault: false,
        writable: true,
        [Symbol(isCorked)]: false,
        [Symbol(outHeadersKey)]: Object { â€¦ },
      },
      _currentUrl: 'http://localhost:3000/',
      _events: {
        error: Function handleRequestError {},
        response: Function handleResponse {},
      },
      _eventsCount: 2,
      _maxListeners: undefined,
      _onNativeResponse: Function {},
      _options: {
        agent: undefined,
        auth: undefined,
        headers: Object { â€¦ },
        hostname: 'localhost',
        maxBodyLength: 10485760,
        maxRedirects: 21,
        method: 'GET',
        nativeProtocols: Object { â€¦ },
        path: '/',
        pathname: '/',
        port: '3000',
        protocol: 'http:',
      },
      _redirectCount: 0,
      _redirects: [],
      _requestBodyBuffers: [],
      _requestBodyLength: 0,
      _writableState: WritableState [
        autoDestroy: false,
        bufferProcessing: false,
        bufferedRequest: null,
        bufferedRequestCount: 0,
        corked: 0,
        corkedRequestsFree: Object { â€¦ },
        decodeStrings: true,
        defaultEncoding: 'utf8',
        destroyed: false,
        emitClose: true,
        ended: false,
        ending: false,
        errorEmitted: false,
        finalCalled: false,
        finished: false,
        highWaterMark: 16384,
        lastBufferedRequest: null,
        length: 0,
        needDrain: false,
        objectMode: false,
        onwrite: Function bound onwrite {},
        pendingcb: 0,
        prefinished: false,
        sync: true,
        writecb: null,
        writelen: 0,
        writing: false,
      ],
      writable: true,
    },
    response: undefined,
    toJSON: Function {},
    message: 'socket hang up',
  }



  (6) POST / "nom=michelle" -> /Bienvenue, michelle/


  Rejected promise returned by test. Reason:

  Error {
    code: 'ECONNRESET',
    config: {
      adapter: Function httpAdapter {},
      data: 'nom=michelle',
      headers: {
        Accept: 'application/json, text/plain, */*',
        'Content-Length': 12,
        'Content-Type': 'application/x-www-form-urlencoded',
        'User-Agent': 'axios/0.19.0',
      },
      maxContentLength: -1,
      method: 'post',
      timeout: 1500,
      transformRequest: [
        Function transformRequest {},
      ],
      transformResponse: [
        Function transformResponse {},
      ],
      url: 'http://localhost:3000/',
      validateStatus: Function validateStatus {},
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
    },
    isAxiosError: true,
    request: Writable {
      _currentRequest: ClientRequest {
        _contentLength: null,
        _ended: false,
        _events: Object { â€¦ },
        _eventsCount: 6,
        _hasBody: true,
        _header: `POST / HTTP/1.1ââŠ
        Accept: application/json, text/plain, */*ââŠ
        Content-Type: application/x-www-form-urlencodedââŠ
        User-Agent: axios/0.19.0ââŠ
        Content-Length: 12ââŠ
        Host: localhost:3000ââŠ
        Connection: closeââŠ
        ââŠ
        `,
        _headerSent: true,
        _last: true,
        _maxListeners: undefined,
        _onPendingData: Function noopPendingOutput {},
        _redirectable: [Circular],
        _removedConnection: false,
        _removedContLen: false,
        _removedTE: false,
        _trailer: '',
        aborted: undefined,
        agent: Agent { â€¦ },
        chunkedEncoding: false,
        connection: Socket { â€¦ },
        finished: true,
        maxHeadersCount: null,
        method: 'POST',
        output: [],
        outputCallbacks: [],
        outputEncodings: [],
        outputSize: 0,
        parser: null,
        path: '/',
        res: null,
        sendDate: false,
        shouldKeepAlive: false,
        socket: Socket { â€¦ },
        socketPath: undefined,
        timeout: undefined,
        timeoutCb: null,
        upgradeOrConnect: false,
        useChunkedEncodingByDefault: true,
        writable: true,
        [Symbol(isCorked)]: false,
        [Symbol(outHeadersKey)]: Object { â€¦ },
      },
      _currentUrl: 'http://localhost:3000/',
      _events: {
        error: Function handleRequestError {},
        response: Function handleResponse {},
      },
      _eventsCount: 2,
      _maxListeners: undefined,
      _onNativeResponse: Function {},
      _options: {
        agent: undefined,
        auth: undefined,
        headers: Object { â€¦ },
        hostname: 'localhost',
        maxBodyLength: 10485760,
        maxRedirects: 21,
        method: 'POST',
        nativeProtocols: Object { â€¦ },
        path: '/',
        pathname: '/',
        port: '3000',
        protocol: 'http:',
      },
      _redirectCount: 0,
      _redirects: [],
      _requestBodyBuffers: [
        Object { â€¦ },
      ],
      _requestBodyLength: 12,
      _writableState: WritableState [
        autoDestroy: false,
        bufferProcessing: false,
        bufferedRequest: null,
        bufferedRequestCount: 0,
        corked: 0,
        corkedRequestsFree: Object { â€¦ },
        decodeStrings: true,
        defaultEncoding: 'utf8',
        destroyed: false,
        emitClose: true,
        ended: false,
        ending: false,
        errorEmitted: false,
        finalCalled: false,
        finished: false,
        highWaterMark: 16384,
        lastBufferedRequest: null,
        length: 0,
        needDrain: false,
        objectMode: false,
        onwrite: Function bound onwrite {},
        pendingcb: 0,
        prefinished: false,
        sync: true,
        writecb: null,
        writelen: 0,
        writing: false,
      ],
      writable: true,
    },
    response: undefined,
    toJSON: Function {},
    message: 'socket hang up',
  }



  (7) GET / {} -> /La dernieÌ€re personne que j'ai rencontreÌe est: michelle/


  Rejected promise returned by test. Reason:

  Error {
    code: 'ECONNRESET',
    config: {
      adapter: Function httpAdapter {},
      data: undefined,
      headers: {
        Accept: 'application/json, text/plain, */*',
        'User-Agent': 'axios/0.19.0',
      },
      maxContentLength: -1,
      method: 'get',
      timeout: 1500,
      transformRequest: [
        Function transformRequest {},
      ],
      transformResponse: [
        Function transformResponse {},
      ],
      url: 'http://localhost:3000/',
      validateStatus: Function validateStatus {},
      xsrfCookieName: 'XSRF-TOKEN',
      xsrfHeaderName: 'X-XSRF-TOKEN',
    },
    isAxiosError: true,
    request: Writable {
      _currentRequest: ClientRequest {
        _contentLength: 0,
        _ended: false,
        _events: Object { â€¦ },
        _eventsCount: 6,
        _hasBody: true,
        _header: `GET / HTTP/1.1ââŠ
        Accept: application/json, text/plain, */*ââŠ
        User-Agent: axios/0.19.0ââŠ
        Host: localhost:3000ââŠ
        Connection: closeââŠ
        ââŠ
        `,
        _headerSent: true,
        _last: true,
        _maxListeners: undefined,
        _onPendingData: Function noopPendingOutput {},
        _redirectable: [Circular],
        _removedConnection: false,
        _removedContLen: false,
        _removedTE: false,
        _trailer: '',
        aborted: undefined,
        agent: Agent { â€¦ },
        chunkedEncoding: false,
        connection: Socket { â€¦ },
        finished: true,
        maxHeadersCount: null,
        method: 'GET',
        output: [],
        outputCallbacks: [],
        outputEncodings: [],
        outputSize: 0,
        parser: null,
        path: '/',
        res: null,
        sendDate: false,
        shouldKeepAlive: false,
        socket: Socket { â€¦ },
        socketPath: undefined,
        timeout: undefined,
        timeoutCb: null,
        upgradeOrConnect: false,
        useChunkedEncodingByDefault: false,
        writable: true,
        [Symbol(isCorked)]: false,
        [Symbol(outHeadersKey)]: Object { â€¦ },
      },
      _currentUrl: 'http://localhost:3000/',
      _events: {
        error: Function handleRequestError {},
        response: Function handleResponse {},
      },
      _eventsCount: 2,
      _maxListeners: undefined,
      _onNativeResponse: Function {},
      _options: {
        agent: undefined,
        auth: undefined,
        headers: Object { â€¦ },
        hostname: 'localhost',
        maxBodyLength: 10485760,
        maxRedirects: 21,
        method: 'GET',
        nativeProtocols: Object { â€¦ },
        path: '/',
        pathname: '/',
        port: '3000',
        protocol: 'http:',
      },
      _redirectCount: 0,
      _redirects: [],
      _requestBodyBuffers: [],
      _requestBodyLength: 0,
      _writableState: WritableState [
        autoDestroy: false,
        bufferProcessing: false,
        bufferedRequest: null,
        bufferedRequestCount: 0,
        corked: 0,
        corkedRequestsFree: Object { â€¦ },
        decodeStrings: true,
        defaultEncoding: 'utf8',
        destroyed: false,
        emitClose: true,
        ended: false,
        ending: false,
        errorEmitted: false,
        finalCalled: false,
        finished: false,
        highWaterMark: 16384,
        lastBufferedRequest: null,
        length: 0,
        needDrain: false,
        objectMode: false,
        onwrite: Function bound onwrite {},
        pendingcb: 0,
        prefinished: false,
        sync: true,
        writecb: null,
        writelen: 0,
        writing: false,
      ],
      writable: true,
    },
    response: undefined,
    toJSON: Function {},
    message: 'socket hang up',
  }



  MONGODB_COLLECTION ne doit contenir qu'un document avec le nom du dernier visiteur


  Rejected promise returned by test. Reason:

  Error {
    cmd: 'docker exec my-running-app sh -c "npm install --no-audit https://github.com/vladlosev/mongodb-fs"',
    code: 1,
    killed: false,
    signal: null,
    stderr: `npm ERR! code EJSONPARSEâŠ
    npm ERR! file /usr/src/app/package.jsonâŠ
    npm ERR! JSON.parse Failed to parse jsonâŠ
    npm ERR! JSON.parse Unexpected end of JSON input while parsing near ''âŠ
    npm ERR! JSON.parse Failed to parse package.json data.âŠ
    npm ERR! JSON.parse package.json must be actual JSON, not just JavaScript.âŠ
    âŠ
    npm ERR! A complete log of this run can be found in:âŠ
    npm ERR!     /root/.npm/_logs/2020-07-17T15_36_50_369Z-debug.logâŠ
    `,
    stdout: '',
    message: `Command failed: docker exec my-running-app sh -c "npm install --no-audit https://github.com/vladlosev/mongodb-fs"âŠ
    npm ERR! code EJSONPARSEâŠ
    npm ERR! file /usr/src/app/package.jsonâŠ
    npm ERR! JSON.parse Failed to parse jsonâŠ
    npm ERR! JSON.parse Unexpected end of JSON input while parsing near ''âŠ
    npm ERR! JSON.parse Failed to parse package.json data.âŠ
    npm ERR! JSON.parse package.json must be actual JSON, not just JavaScript.âŠ
    âŠ
    npm ERR! A complete log of this run can be found in:âŠ
    npm ERR!     /root/.npm/_logs/2020-07-17T15_36_50_369Z-debug.logâŠ
    `,
  }



  (8) GET / -> "J'ai perdu la meÌmoire...", si la db ne fonctionne plus


  Rejected promise returned by test. Reason:

  Error {
    cmd: 'docker exec my-running-app sh -c "npm install --no-audit https://github.com/vladlosev/mongodb-fs"',
    code: 1,
    killed: false,
    signal: null,
    stderr: `npm ERR! code EJSONPARSEâŠ
    npm ERR! file /usr/src/app/package.jsonâŠ
    npm ERR! JSON.parse Failed to parse jsonâŠ
    npm ERR! JSON.parse Unexpected end of JSON input while parsing near ''âŠ
    npm ERR! JSON.parse Failed to parse package.json data.âŠ
    npm ERR! JSON.parse package.json must be actual JSON, not just JavaScript.âŠ
    âŠ
    npm ERR! A complete log of this run can be found in:âŠ
    npm ERR!     /root/.npm/_logs/2020-07-17T15_36_50_369Z-debug.logâŠ
    `,
    stdout: '',
    message: `Command failed: docker exec my-running-app sh -c "npm install --no-audit https://github.com/vladlosev/mongodb-fs"âŠ
    npm ERR! code EJSONPARSEâŠ
    npm ERR! file /usr/src/app/package.jsonâŠ
    npm ERR! JSON.parse Failed to parse jsonâŠ
    npm ERR! JSON.parse Unexpected end of JSON input while parsing near ''âŠ
    npm ERR! JSON.parse Failed to parse package.json data.âŠ
    npm ERR! JSON.parse package.json must be actual JSON, not just JavaScript.âŠ
    âŠ
    npm ERR! A complete log of this run can be found in:âŠ
    npm ERR!     /root/.npm/_logs/2020-07-17T15_36_50_369Z-debug.logâŠ
    `,
  }


ğŸ§¹ Stop and remove Docker containers...
