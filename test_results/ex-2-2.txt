
    Lecture du code source fourni
    ℹ const MongoClient = require('mongodb').MongoClient;
      const assert = require('assert');

      (async function() {
        // Connection URL
        const url = 'mongodb://localhost:27017/test';
        // Database Name
        const dbName = 'test';
        const client = new MongoClient(url);

        try {
          // Use connect method to connect to the Server
          await client.connect();
          console.log("Connected correctly to server");

          const db = client.db(dbName);

          // Get the collection
          const col = db.collection('dates');

          // Insert multiple documents
          const r = await col.insertMany([ { date: new Date() } ]);

          // Get first two documents that match the query
          const docs = await col.find({}).toArray();
          console.log({ docs });

        } catch (err) {
          console.log(err.stack);
        }

        client.close();
      })();

  ✔ dates.js utilise seulement await pour récupérer les valeurs promises
install mongomem...
npm WARN deprecated core-js@2.6.11: core-js@<3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
+ mongomem@0.1.9
+ babel-runtime@6.26.0
updated 2 packages in 4.944s

run mongo server in container...
Promise
2020-04-04T17:45:25.536Z
2020-04-04T17:45:30.541Z
2020-04-04T17:45:35.542Z
2020-04-04T17:45:40.543Z
2020-04-04T17:45:45.548Z
2020-04-04T17:45:50.548Z
2020-04-04T17:45:55.550Z
2020-04-04T17:46:00.551Z
2020-04-04T17:46:05.553Z
2020-04-04T17:46:10.556Z
2020-04-04T17:46:15.559Z
2020-04-04T17:46:20.561Z
2020-04-04T17:46:25.564Z
2020-04-04T17:46:30.569Z
2020-04-04T17:46:35.575Z
2020-04-04T17:46:40.580Z
2020-04-04T17:46:45.584Z
2020-04-04T17:46:50.590Z
2020-04-04T17:46:55.595Z
2020-04-04T17:47:00.597Z
2020-04-04T17:47:05.603Z
2020-04-04T17:47:10.606Z
  ✖ connect to mongodb from container Test timeout exceeded

  1 test failed

  connect to mongodb from container


  Error: Test timeout exceeded

